<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emotion&Dopamine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="https://cdn-icons-png.flaticon.com/512/727/727245.png">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, Helvetica, sans-serif;
}

body{
  background:radial-gradient(circle at top,#1b0036,#000);
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

h1{
  font-size:3rem;
  margin-bottom:10px;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{text-shadow:0 0 10px #ff00ff;}
  to{text-shadow:0 0 25px #00ffff;}
}

.subtitle{
  opacity:.75;
  margin-bottom:30px;
}

.players{
  display:flex;
  gap:20px;
  z-index:2;
}

.player{
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(8px);
  border-radius:18px;
  padding:20px;
  width:170px;
  text-align:center;
}

.player h3{
  font-size:1rem;
  margin-bottom:12px;
}

.play-btn{
  width:70px;
  height:70px;
  border-radius:50%;
  border:none;
  cursor:pointer;
  font-size:28px;
  background:linear-gradient(135deg,#ff00ff,#00ffff);
  box-shadow:0 0 15px rgba(255,0,255,.7);
}

canvas{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  z-index:1;
}

footer{
  margin-top:25px;
  font-size:12px;
  opacity:.6;
  z-index:2;
}
</style>
</head>

<body>

<canvas id="visualizer"></canvas>

<h1>Emotion&Dopamine</h1>
<div class="subtitle">Feel the vibe. Let the dopamine flow.</div>

<div class="players">

  <div class="player">
    <h3>Happy Hardcore</h3>
    <button class="play-btn" onclick="playRadio(0)">▶</button>
  </div>

  <div class="player">
    <h3>Hands Up</h3>
    <button class="play-btn" onclick="playRadio(1)">▶</button>
  </div>

  <div class="player">
    <h3>Hands Up 2</h3>
    <button class="play-btn" onclick="playRadio(2)">▶</button>
  </div>

  <div class="player">
    <h3>Rock</h3>
    <button class="play-btn" onclick="playRadio(3)">▶</button>
  </div>

  <div class="player">
    <h3>Metal</h3>
    <button class="play-btn" onclick="playRadio(4)">▶</button>
  </div>

</div>

<footer>© 2025 Emotion & Dopamine</footer>

<script>
/* =======================
   STREAMS DE RÁDIO
   ======================= */
const streams = [
  "https://stream.zeno.fm/r8s232x3xg0uv",            // Happy Hardcore
  "https://rautemusik.stream25.radiohost.de/club", // Hands Up
  "https://listen.technobase.fm/tunein-mp3",       // Hands Up 2
  "https://rautemusik.stream37.radiohost.de/rock", // Rock
  "https://rautemusik.stream43.radiohost.de/metal_mp3-192" // Metal
];

let audio = new Audio();
audio.crossOrigin = "anonymous";

let ctx, analyser, source;
let initialized = false;

/* =======================
   CANVAS
   ======================= */
const canvas = document.getElementById("visualizer");
const c = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

/* =======================
   AUDIO INIT
   ======================= */
function initAudio(){
  ctx = new (window.AudioContext || window.webkitAudioContext)();
  analyser = ctx.createAnalyser();
  analyser.fftSize = 256;

  source = ctx.createMediaElementSource(audio);
  source.connect(analyser);
  analyser.connect(ctx.destination);

  animate();
}

/* =======================
   PLAY RADIO (1 POR VEZ)
   ======================= */
function playRadio(index){
  audio.pause();
  audio.src = streams[index];
  audio.load();
  audio.play();

  if(!initialized){
    initAudio();
    initialized = true;
  }
}

/* =======================
   AUTOPLAY PRINCIPAL
   ======================= */
window.addEventListener("click",()=>{
  if(!initialized){
    playRadio(0);
  }
},{once:true});

/* =======================
   VISUALIZER
   ======================= */
function animate(){
  requestAnimationFrame(animate);

  const data = new Uint8Array(analyser.frequencyBinCount);
  analyser.getByteFrequencyData(data);

  c.clearRect(0,0,canvas.width,canvas.height);

  const cx = canvas.width/2;
  const cy = canvas.height/2;
  const baseRadius = 120;

  for(let i=0;i<data.length;i++){
    const angle = (i/data.length)*Math.PI*2;
    const amp = data[i]*0.6;

    const x = cx + Math.cos(angle)*(baseRadius+amp);
    const y = cy + Math.sin(angle)*(baseRadius+amp);

    c.beginPath();
    c.arc(x,y,3,0,Math.PI*2);
    c.fillStyle = `hsl(${i*4},100%,60%)`;
    c.fill();
  }
}
</script>

</body>
</html>
