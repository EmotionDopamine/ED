<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emotion&Dopamine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="https://cdn-icons-png.flaticon.com/512/727/727245.png">

<style>
body{
  margin:0;
  background:#050508;
  color:#fff;
  font-family:Arial, Helvetica, sans-serif;
  overflow:hidden;
}

/* ===== BACKGROUND VISUAL ===== */
canvas{
  position:fixed;
  inset:0;
  z-index:0;
}

/* ===== HEADER ===== */
header{
  position:relative;
  z-index:2;
  text-align:center;
  padding:40px 10px 10px;
}

header h1{
  font-size:46px;
  letter-spacing:4px;
  animation:glow 3s infinite alternate;
}

header p{
  opacity:.7;
  margin-top:5px;
}

@keyframes glow{
  from{ text-shadow:0 0 10px #ff00ff;}
  to{ text-shadow:0 0 30px #00ffff;}
}

/* ===== PLAYERS (UNCHANGED STYLE) ===== */
.players{
  position:relative;
  z-index:2;
  display:flex;
  justify-content:center;
  gap:30px;
  margin-top:40px;
  flex-wrap:wrap;
}

.player{
  text-align:center;
}

.play-btn{
  width:80px;
  height:80px;
  border-radius:50%;
  border:none;
  font-size:30px;
  cursor:pointer;
  color:#fff;
  background:linear-gradient(135deg,#ff00ff,#00ffff);
  box-shadow:0 0 18px rgba(255,0,255,.6);
}

.genre{
  margin-top:8px;
  font-size:13px;
  letter-spacing:1px;
  opacity:.85;
}

/* ===== FOOTER ===== */
footer{
  position:fixed;
  bottom:10px;
  width:100%;
  text-align:center;
  font-size:12px;
  opacity:.6;
  z-index:2;
}
</style>
</head>

<body>

<canvas id="viz"></canvas>

<header>
  <h1>Emotion&Dopamine</h1>
  <p>Feel the vibe. Let the dopamine flow.</p>
</header>

<div class="players">
  <div class="player">
    <button class="play-btn" data-src="https://stream.zeno.fm/r8s232x3xg0uv">▶</button>
    <div class="genre">Happy Hardcore</div>
  </div>

  <div class="player">
    <button class="play-btn" data-src="https://rautemusik.stream25.radiohost.de/club">▶</button>
    <div class="genre">Hands Up</div>
  </div>

  <div class="player">
    <button class="play-btn" data-src="https://listen.technobase.fm/tunein-mp3">▶</button>
    <div class="genre">Hands Up 2</div>
  </div>

  <div class="player">
    <button class="play-btn" data-src="https://rautemusik.stream37.radiohost.de/rock">▶</button>
    <div class="genre">Rock</div>
  </div>

  <div class="player">
    <button class="play-btn" data-src="https://rautemusik.stream43.radiohost.de/metal_mp3-192">▶</button>
    <div class="genre">Metal</div>
  </div>
</div>

<footer>© 2026 Emotion & Dopamine</footer>

<audio id="audio" crossorigin="anonymous"></audio>

<script>
/* ===== AUDIO CONTROL (FAST & CLEAN) ===== */
const audio = document.getElementById("audio");
const buttons = document.querySelectorAll(".play-btn");

buttons.forEach(btn=>{
  btn.onclick=()=>{
    buttons.forEach(b=>b.innerText="▶");
    if(audio.src!==btn.dataset.src){
      audio.src=btn.dataset.src;
      audio.play();
      btn.innerText="❚❚";
      audioCtx.resume();
    }else{
      audio.pause();
      audio.src="";
    }
  };
});

/* ===== VISUALIZER – NEXT LEVEL (LIGHT) ===== */
const canvas=document.getElementById("viz");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

const audioCtx=new (window.AudioContext||window.webkitAudioContext)();
const source=audioCtx.createMediaElementSource(audio);
const analyser=audioCtx.createAnalyser();

source.connect(analyser);
analyser.connect(audioCtx.destination);
analyser.fftSize=128;

const data=new Uint8Array(analyser.frequencyBinCount);

function render(){
  requestAnimationFrame(render);
  analyser.getByteFrequencyData(data);

  ctx.fillStyle="rgba(0,0,0,.12)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  let x=0;
  const barWidth=(canvas.width/data.length);

  for(let i=0;i<data.length;i++){
    const h=data[i]*1.3;
    ctx.fillStyle=`rgba(0,255,255,.25)`;
    ctx.fillRect(x,canvas.height-h,barWidth,h);
    x+=barWidth;
  }
}
render();

onresize=()=>{
  canvas.width=innerWidth;
  canvas.height=innerHeight;
};
</script>

</body>
</html>
