<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emotion&Dopamine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 130 130'%3E%3Cdefs%3E%3Cfilter id='g' x='-50%25' y='-50%25' width='200%25' height='200%25'%3E%3CfeGaussianBlur stdDeviation='4'/%3E%3C/filter%3E%3C/defs%3E%3Cpolygon points='38,55 55,32 82,32 99,55 82,78 55,78' fill='none' stroke='%2300ffff' stroke-width='11' filter='url(%23g)'/%3E%3Ccircle cx='108' cy='52' r='19' fill='none' stroke='%23ff00ff' stroke-width='8' filter='url(%23g)'/%3E%3Ccircle cx='50' cy='45' r='8' fill='%23ff00ff' filter='url(%23g)'/%3E%3Ccircle cx='78' cy='36' r='7' fill='%2300ffff' filter='url(%23g)'/%3E%3C/svg%3E">
<link href="https://fonts.googleapis.com/css2?family=Monoton&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;-webkit-tap-highlight-color:transparent;}
body{background-color:#000;color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow-x:hidden;position:relative;padding:20px;}
.grid-container{position:fixed;top:0;left:0;width:100%;height:100%;perspective:450px;z-index:0;background:radial-gradient(circle at 50% 50%, #1a0033 0%, #000 80%);}
.grid{position:absolute;bottom:-30%;left:-50%;width:200%;height:100%;background-image:linear-gradient(to right,rgba(255,0,255,0.18)1px,transparent 1px),linear-gradient(to bottom,rgba(255,0,255,0.18)1px,transparent 1px);background-size:50px 50px;transform:rotateX(60deg);animation:moveGrid 6s linear infinite;}
@keyframes moveGrid{0%{transform:rotateX(60deg) translateY(0)}100%{transform:rotateX(60deg) translateY(60px)}}

.logo-wrapper{display:flex;align-items:center;gap:25px;z-index:3;margin-bottom:15px;}
.molecule{width:110px;height:110px;filter:drop-shadow(0 0 25px #00ffff) drop-shadow(0 0 40px #ff00ff);animation:moleculeFloat 4.5s ease-in-out infinite;transition:transform 0.4s;}
.molecule.playing{animation:moleculeFloat 2.8s ease-in-out infinite, moleculeRotate 18s linear infinite;}
@keyframes moleculeFloat{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-12px) rotate(8deg)}}
@keyframes moleculeRotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

.main-logo{font-size:clamp(2.8rem,9vw,7rem);line-height:0.82;font-weight:900;text-transform:uppercase;letter-spacing:-4px;position:relative;display:inline-block;}
.main-logo .emotion{font-family:'Orbitron',sans-serif;background:linear-gradient(90deg,#ff00ff,#c300ff,#00f0ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.main-logo .amp{color:#fff;font-size:0.65em;margin:0 8px;vertical-align:top;text-shadow:0 0 30px #fff;}
.main-logo .dopamine{font-family:'Monoton',cursive;background:linear-gradient(90deg,#00ffff,#67f8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}

.glitch{position:relative;color:white;animation:glitch-skew 4s infinite linear alternate-reverse;}
.glitch::before,.glitch::after{content:attr(data-text);position:absolute;top:0;left:0;width:100%;height:100%;opacity:0.8;}
.glitch::before{animation:glitch-anim 2s infinite linear alternate-reverse;color:#ff00ff;left:2px;text-shadow:-2px 0 #00ffff;clip:rect(0,900px,0,0);}
.glitch::after{animation:glitch-anim2 1.8s infinite linear alternate-reverse;color:#00ffff;left:-2px;text-shadow:2px 0 #ff00ff;clip:rect(0,900px,0,0);}
@keyframes glitch-anim{0%{clip:rect(30px,9999px,45px,0)}5%{clip:rect(10px,9999px,60px,0)}10%{clip:rect(55px,9999px,70px,0)}15%{clip:rect(25px,9999px,80px,0)}20%{clip:rect(40px,9999px,55px,0)}100%{clip:rect(20px,9999px,65px,0)}}
@keyframes glitch-anim2{0%{clip:rect(65px,9999px,95px,0)}5%{clip:rect(5px,9999px,25px,0)}10%{clip:rect(40px,9999px,85px,0)}15%{clip:rect(25px,9999px,50px,0)}20%{clip:rect(70px,9999px,95px,0)}100%{clip:rect(45px,9999px,75px,0)}}
@keyframes glitch-skew{0%{transform:skew(0deg)}10%{transform:skew(5deg)}20%{transform:skew(-4deg)}30%{transform:skew(3deg)}100%{transform:skew(0deg)}}

.subtitle{opacity:.9;font-size:clamp(1rem,3vw,1.35rem);letter-spacing:4px;text-transform:uppercase;color:#ccc;text-align:center;margin-top:-10px;}

.players{display:flex;gap:20px;z-index:3;flex-wrap:wrap;justify-content:center;max-width:1200px;}
.player{
  background:rgba(0,0,0,0.85);backdrop-filter:blur(10px);border-radius:22px;padding:18px;width:185px;
  height:148px; /* ALTURA FIXA = SEM PULO! */
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  border:1px solid rgba(255,255,255,0.12);transition:all .4s ease;position:relative;
}
.player.playing{box-shadow:0 0 45px;animation:stationPulse 1.4s ease-in-out infinite alternate;}
@keyframes stationPulse{from{box-shadow:0 0 25px}to{box-shadow:0 0 60px}}

.play-btn{width:68px;height:68px;border-radius:50%;border:none;cursor:pointer;font-size:26px;color:#fff;transition:all .3s;}
.play-btn.hardcore{background:linear-gradient(135deg,#ff00ff,#8a00ff);}
.play-btn.handsup{background:linear-gradient(135deg,#00ffff,#0088aa);}
.play-btn.handsup2{background:linear-gradient(135deg,#00ff99,#00aa66);}
.play-btn.rock{background:linear-gradient(135deg,#ff4444,#aa0000);}
.play-btn.metal{background:linear-gradient(135deg,#777,#333);}
.play-btn.trance{background:linear-gradient(135deg,#aa00ff,#00ccff);}

.hardcore-bg{border-color:#ff00ff !important;}
.handsup-bg{border-color:#00ffff !important;}
.handsup2-bg{border-color:#00ff99 !important;}
.rock-bg{border-color:#ff4444 !important;}
.metal-bg{border-color:#aaa !important;}
.trance-bg{border-color:#aa00ff !important;}

.now-playing{font-size:clamp(1.35rem,4.5vw,2.2rem);font-family:'Orbitron',sans-serif;color:#00ffff;text-shadow:0 0 25px #00ffff;margin:15px 0 8px;min-height:42px;z-index:3;}
.live-indicator{color:#ff00ff;font-size:0.9rem;letter-spacing:3px;animation:liveBlink 1.3s infinite;margin-bottom:12px;z-index:3;display:none;}
@keyframes liveBlink{0%,100%{opacity:1;text-shadow:0 0 12px #ff00ff}50%{opacity:0.35}}

.volume-wrapper{display:flex;align-items:center;gap:14px;margin:25px 0 30px;z-index:3;}
.volume-icon{font-size:1.85rem;cursor:pointer;transition:.3s;}
#volume-slider{width:240px;accent-color:#00ffff;cursor:pointer;}

#lyrics{margin:25px 0;font-size:1.15rem;font-style:italic;color:#00ffff;min-height:48px;z-index:3;text-align:center;}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;}
footer{margin:25px 0;font-size:12px;opacity:0.5;z-index:3;}

@media (max-width:650px){
  .logo-wrapper{flex-direction:column;gap:15px;text-align:center;}
  .molecule{width:85px;height:85px;}
  .main-logo{font-size:clamp(2.2rem,8.5vw,4.8rem);letter-spacing:-2px;}
  .player{width:48%;min-width:145px;}
}
</style>
</head>
<body>
<div class="grid-container"><div class="grid"></div></div>
<canvas id="visualizer"></canvas>

<div class="logo-wrapper">
  <svg class="molecule" width="120" height="120" viewBox="0 0 130 130" fill="none" xmlns="http://www.w3.org/2000/svg">
    <defs><filter id="neonglow" x="-80%" y="-80%" width="260%" height="260%"><feGaussianBlur stdDeviation="5" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
    <polygon points="38,55 55,32 82,32 99,55 82,78 55,78" stroke="#00ffff" stroke-width="9" stroke-linejoin="round" fill="none" filter="url(#neonglow)"/>
    <circle cx="108" cy="52" r="19" stroke="#ff00ff" stroke-width="7.5" fill="none" filter="url(#neonglow)"/>
    <line x1="90" y1="54" x2="105" y2="52" stroke="#ff00ff" stroke-width="8" filter="url(#neonglow)"/>
    <line x1="68" y1="45" x2="85" y2="40" stroke="#00ffff" stroke-width="6" filter="url(#neonglow)"/>
    <circle cx="48" cy="42" r="7" fill="#ff00ff" filter="url(#neonglow)"/>
    <circle cx="75" cy="35" r="6" fill="#00ffff" filter="url(#neonglow)"/>
    <circle cx="115" cy="68" r="5.5" fill="#ff00ff" filter="url(#neonglow)"/>
  </svg>
  <div class="logo-text">
    <h1 class="main-logo glitch" data-text="EMOTION&DOPAMINE">
      <span class="emotion">EMOTION</span>
      <span class="amp">&amp;</span>
      <span class="dopamine">DOPAMINE</span>
    </h1>
  </div>
</div>

<div class="subtitle">Feel the vibe. Let the dopamine flow.</div>
<div id="now-playing" class="now-playing">Select a station...</div>
<div id="live-indicator" class="live-indicator">‚óè LIVE ON AIR</div>

<div class="players">
  <div class="player" id="player-0"><h3>Happy Hardcore</h3><button class="play-btn hardcore" data-index="0">‚ñ∂</button></div>
  <div class="player" id="player-1"><h3>Hands Up</h3><button class="play-btn handsup" data-index="1">‚ñ∂</button></div>
  <div class="player" id="player-2"><h3>Hands Up 2</h3><button class="play-btn handsup2" data-index="2">‚ñ∂</button></div>
  <div class="player" id="player-3"><h3>Rock</h3><button class="play-btn rock" data-index="3">‚ñ∂</button></div>
  <div class="player" id="player-4"><h3>Metal</h3><button class="play-btn metal" data-index="4">‚ñ∂</button></div>
  <div class="player" id="player-5"><h3>Trance</h3><button class="play-btn trance" data-index="5">‚ñ∂</button></div>
</div>

<div class="volume-wrapper">
  <span class="volume-icon" id="volume-icon">üîä</span>
  <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.8">
</div>

<div id="lyrics">Select a station to feel the dopamine...</div>
<footer>¬© 2026 Emotion&Dopamine ‚Ä¢ Feel Everything</footer>

<script>
const streams = ["https://stream.zeno.fm/r8s232x3xg0uv","https://rautemusik.stream25.radiohost.de/club","https://listen.technobase.fm/tunein-mp3","https://rautemusik.stream37.radiohost.de/rock","https://rautemusik.stream43.radiohost.de/metal_mp3-192","https://rautemusik.stream43.radiohost.de/trance"];
const stationLyrics = ["‚ô™ Happiness is just a state of mind... Feel the 170 BPM power! ‚ô™","‚ô™ Put your hands up in the air! The rhythm is taking control! ‚ô™","‚ô™ Hands up for the weekend! Let the melody guide your soul. ‚ô™","‚ô™ Long live Rock 'n' Roll... Can you hear the thunder in the drums? ‚ô™","‚ô™ Heavy metal thunder! Breaking the chains of reality. ‚ô™","‚ô™ Trance into the infinite... Ride the waves of pure emotion! ‚ô™"];
const stationClasses = ['hardcore-bg','handsup-bg','handsup2-bg','rock-bg','metal-bg','trance-bg'];
const stationNames = ["Happy Hardcore","Hands Up","Hands Up 2","Rock","Metal","Trance"];

let audio = new Audio(); audio.crossOrigin = "anonymous";
let analyser, source, currentIdx = -1, started = false;
let currentVolume = 0.8;
let particles = [];

const volumeSlider = document.getElementById('volume-slider');
const volumeIcon = document.getElementById('volume-icon');
const nowPlaying = document.getElementById('now-playing');
const liveIndicator = document.getElementById('live-indicator');
const lyricsDiv = document.getElementById('lyrics');
const molecule = document.querySelector('.molecule');
const canvas = document.getElementById("visualizer");
const c = canvas.getContext("2d");

class Particle {
  constructor() { this.reset(); this.bassBoost = 0; }
  reset() {
    this.x = Math.random() * canvas.width;
    this.y = canvas.height * (Math.random() * 0.6 + 0.4);
    this.size = Math.random() * 3.2 + 1.6;
    this.speedX = Math.random() * 1.1 - 0.55;
    this.speedY = Math.random() * -1.1 - 0.7;
    this.opacity = Math.random() * 0.55 + 0.4;
    this.hue = Math.random() > 0.5 ? 295 : 185;
    this.twist = Math.random() * Math.PI * 2;
  }
  update(bass) {
    this.bassBoost = bass / 255;
    this.twist += 0.022;
    this.x += this.speedX + Math.sin(this.twist) * 0.75;
    this.y += this.speedY - this.bassBoost * 1.1;
    this.opacity = 0.35 + Math.sin(Date.now() / 520 + this.x / 30) * 0.32;
    if (this.y < -40 || this.x < -60 || this.x > canvas.width + 60) this.reset();
  }
  draw() {
    const glow = 13 + this.bassBoost * 38;
    const alpha = this.opacity + this.bassBoost * 0.48;
    const drawSize = this.size + this.bassBoost * 2.2;
    c.save();
    c.globalAlpha = alpha;
    c.shadowBlur = glow;
    c.shadowColor = `hsl(${this.hue},100%,92%)`;
    c.fillStyle = `hsl(${this.hue},100%,98%)`;
    c.beginPath();
    c.arc(this.x, this.y, drawSize, 0, Math.PI * 2);
    c.fill();
    c.restore();
  }
}

function initParticles() {
  particles = [];
  const count = window.innerWidth < 700 ? 38 : 68;
  for (let i = 0; i < count; i++) particles.push(new Particle());
}

volumeSlider.value = currentVolume; audio.volume = currentVolume;
function updateVolumeIcon() { volumeIcon.textContent = currentVolume === 0 ? 'üîá' : currentVolume < 0.35 ? 'üîà' : 'üîä'; }
volumeSlider.addEventListener('input', () => { currentVolume = parseFloat(volumeSlider.value); audio.volume = currentVolume; updateVolumeIcon(); localStorage.setItem('ed_volume', currentVolume); });
if (localStorage.getItem('ed_volume')) { currentVolume = parseFloat(localStorage.getItem('ed_volume')); volumeSlider.value = currentVolume; audio.volume = currentVolume; updateVolumeIcon(); }

document.querySelectorAll('.play-btn').forEach(btn => btn.addEventListener('click', () => playRadio(parseInt(btn.dataset.index))));

function playRadio(i) {
  const btns = document.querySelectorAll('.play-btn');
  const activePlayer = document.getElementById(`player-${i}`);
  if (currentIdx === i) {
    if (audio.paused) { audio.play(); btns[i].innerText = "‚è∏"; activePlayer.classList.add('playing', stationClasses[i]); liveIndicator.style.display = 'block'; molecule.classList.add('playing'); }
    else { audio.pause(); btns[i].innerText = "‚ñ∂"; activePlayer.classList.remove('playing', stationClasses[i]); liveIndicator.style.display = 'none'; molecule.classList.remove('playing'); lyricsDiv.innerText = "Paused..."; }
    return;
  }
  if (currentIdx !== -1) {
    btns[currentIdx].innerText = "‚ñ∂";
    document.getElementById(`player-${currentIdx}`).classList.remove('playing', stationClasses[currentIdx]);
  }
  currentIdx = i;
  nowPlaying.innerText = stationNames[i];
  lyricsDiv.innerText = stationLyrics[i];
  liveIndicator.style.display = 'block';
  audio.src = streams[i];
  audio.load();
  audio.play().catch(() => { lyricsDiv.innerHTML = `‚ùå Stream unavailable.<br>Try another station.`; liveIndicator.style.display = 'none'; });
  btns[i].innerText = "‚è∏";
  activePlayer.classList.add('playing', stationClasses[i]);
  molecule.classList.add('playing');
  localStorage.setItem('ed_lastStation', i);
  if (!started) { initVisualizer(); started = true; }
}

audio.addEventListener('waiting', () => lyricsDiv.innerText = "Buffering...");
audio.addEventListener('playing', () => { if (currentIdx !== -1) lyricsDiv.innerText = stationLyrics[currentIdx]; });
audio.addEventListener('error', () => { lyricsDiv.innerHTML = `‚ùå Stream offline üò¢<br>Try another station.`; liveIndicator.style.display = 'none'; });

function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; initParticles(); }
window.onresize = resize; resize();

function initVisualizer() {
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  analyser = audioCtx.createAnalyser(); analyser.fftSize = 512;
  source = audioCtx.createMediaElementSource(audio);
  source.connect(analyser); analyser.connect(audioCtx.destination);
  animate();
}

function animate() {
  requestAnimationFrame(animate);
  const data = new Uint8Array(analyser ? analyser.frequencyBinCount : 0);
  if (analyser) analyser.getByteFrequencyData(data);

  c.clearRect(0, 0, canvas.width, canvas.height);

  const cx = canvas.width / 2;
  const cy = canvas.height / 2;
  const isMobile = window.innerWidth < 650;
  const baseRadius = isMobile ? Math.min(cx, cy) * 0.46 : 162;
  const bars = isMobile ? 110 : 160;
  const bass = analyser ? (data[0] + data[1] + data[2] + data[3] + data[4] + data[5] + data[6] + data[7]) / 8 : 40;

  particles.forEach(p => { p.update(bass); p.draw(); });

  if (!analyser || audio.paused) return;

  for(let i = 0; i < bars; i++) {
    const v = data[i] || 0;
    const angle = (i / bars) * Math.PI * 2;
    const barLen = v * (isMobile ? 0.82 : 1.22);
    const x1 = cx + Math.cos(angle) * baseRadius;
    const y1 = cy + Math.sin(angle) * baseRadius;
    const x2 = cx + Math.cos(angle) * (baseRadius + barLen);
    const y2 = cy + Math.sin(angle) * (baseRadius + barLen);
    c.strokeStyle = `hsl(${i * (360/bars) + 280}, 100%, 65%)`;
    c.lineWidth = isMobile ? 2.5 : 4.5;
    c.lineCap = "round";
    c.shadowBlur = 15;
    c.shadowColor = c.strokeStyle;
    c.beginPath(); c.moveTo(x1, y1); c.lineTo(x2, y2); c.stroke();
  }

  // ==================== NOVO ENERGY CORE ====================
  const centerR = baseRadius * 0.45 + (bass / 255) * 28;

  // Glow externo suave
  c.shadowBlur = 85; c.shadowColor = '#ff00ff';
  c.fillStyle = 'rgba(255,0,255,0.07)';
  c.beginPath(); c.arc(cx, cy, centerR + 22, 0, Math.PI * 2); c.fill();

  // Orb principal
  c.shadowBlur = 58; c.shadowColor = '#00ffff';
  c.fillStyle = 'rgba(0,255,255,0.14)';
  c.beginPath(); c.arc(cx, cy, centerR, 0, Math.PI * 2); c.fill();

  // N√∫cleo interno (pulsando forte)
  c.shadowBlur = 32; c.shadowColor = '#ff00ff';
  c.fillStyle = '#ff00ff';
  c.beginPath(); c.arc(cx, cy, centerR * 0.42, 0, Math.PI * 2); c.fill();

  // Anel externo fino
  c.shadowBlur = 28; c.shadowColor = '#00ffff';
  c.strokeStyle = '#00ffff'; c.lineWidth = 3.5;
  c.beginPath(); c.arc(cx, cy, centerR * 0.88, 0, Math.PI * 2); c.stroke();
}

</script>
</body>
</html>
